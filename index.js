var cat = document.getElementById("cat");var navc = document.getElementsByClassName("navconcon")[0];var article = document.getElementsByClassName("article")[0];navc.classList.add("navconconh");cat.onclick = function() {navc.classList.toggle("navconconh");};var mt = document.getElementsByClassName("menut")[0];var nav = document.getElementsByClassName("nav")[0];nav.classList.add("navhide");mt.onclick = function() {nav.classList.toggle("navhide");article.classList.toggle("article-r");mt.classList.toggle("mcan")};var sneap = {stog:document.getElementById("signup-toggle"),signup:document.getElementById("signup"),ecd:document.getElementById("extra-content-body"),signupc:document.getElementById("signup-cancel")};sneap.signupc.onclick = function() {var xo = 1;function ecbtoc() {xo = xo - 0.01;if(xo <= 0) {clearInterval(et);sneap.ecd.style.display = "none";}sneap.ecd.style.opacity = xo;}var et = setInterval(ecbtoc, 10);var x = 0;function sianime() {x = x - 1;if(x <= -40) {clearInterval(t);}sneap.signup.style.marginTop = x+'%';}var t = setInterval(sianime, 20);};sneap.stog.onclick =function() {var x = -40;function ecbto() {sneap.ecd.style.display="block";sneap.ecd.style.opacity="1";x = x + 1;if(x >= 0) {clearInterval(t);}sneap.signup.style.marginTop = x+"%";}var t = setInterval(ecbto, 20);};function iframe() {commentInput.document.designMode = "On";};function cbold() {commentInput.document.execCommand("bold", false, null);};function citalic() {commentInput.document.execCommand("italic", false, null);};function cunderline() {commentInput.document.execCommand("underline", false, null);};function clink() {var clink = prompt("Please enter the url", "http://");commentInput.document.execCommand("createLink", false, clink);};function cunlink() {commentInput.document.execCommand("unlink", false, null);};function ccolor() {var ccolor = document.getElementById("ccolor").value;commentInput.document.execCommand("Forecolor", false, ccolor);document.getElementById("colorButton").style.background = ccolor;
}function pload() {$.get('name.php', {}, function(data) {var userName = data;window.userName = userName;});$.get('profile.php', {}, function(data) {if (data == 1) {document.getElementById("pupdate").innerHTML = "<span id='userw'>Hi <b>"+userName+"</b>, welcome to Discovery World. <button id='logout' onclick='logout()'>Click to Log out</button></span>";setTimeout(document.getElementsByClassName("login-form")[0].classList.add("login-form-hide"), 800);}});} pload();var signup = {name:document.getElementById("name"), surname:document.getElementById("surname"), username:document.getElementById("username"), email:document.getElementById("email"),password:document.getElementById("password"),cpassword:document.getElementById("cpassword"),resp:document.getElementById("resp")};function respr() {signup.resp.style.visibility = 'hidden';}function respl() {setTimeout(respr, 2500);signup.resp.style.visibility = 'visible';}function signupd() {if (signup.password.value !== signup.cpassword.value) {signup.resp.innerHTML = "Your password cannot be confirmed because they don't correlate";respl();
}else {$.post('signup.php', {name:signup.name.value, surname:signup.surname.value, username:signup.username.value, email:signup.email.value, password:signup.password.value, cpassword:signup.password.value}, function(data) {function respr() {signup.resp.style.visibility = 'hidden';}function respl() {setTimeout(respr, 2500);signup.resp.style.visibility = 'visible';}respl();signup.resp.innerHTML = data; pload();});}}document.getElementsByClassName("login-form")[0].classList.add("login-form-hide");var loginsv = { ltog:document.getElementById("login-toggle"),loginform:document.getElementsByClassName("login-form")[0],
logb:document.getElementById("login-button"), user:document.getElementById("l-usere"), pass:document.getElementById("l-password")};loginsv.ltog.onclick = function (){loginsv.loginform.classList.toggle("login-form-hide");};function ledto() {document.getElementById("log-error").style.display = "none";}function ledtn() {document.getElementById("log-error").style.display = "block";setTimeout(ledto, 3000);}loginsv.logb.onclick = function() {$.post('login.php', {email:loginsv.user.value, password:loginsv.pass.value},function(data) {if (data == 3) {document.getElementById("log-error").innerHTML = "Please fill in your username/email";ledtn();}else if (data == 2) {document.getElementById("log-error").innerHTML = "Oops you forgot to input your password";ledtn();}else if (data == 1) {document.getElementById("log-error").innerHTML = "Invalid credentials supplied";ledtn();}else if (data == 0) {document.getElementById("log-error").innerHTML = "Your login is successfull";document.getElementById("log-error").style.background = "rgba(78,176,32,0.60)";pload();ledtn();}});};function logout() {$.get('logout.php', {}, function(data) {if (data == 1) {document.getElementById("pupdate").innerHTML = "<ul id='op'><li id='signup-toggle'>Sign up</li><li id='login-toggle'>Log in</li></ul>";}});};document.getElementsByClassName("c-r-resp")[0].classList.add("c-r-resp-hide");document.getElementById("b-b").onclick = function() {document.getElementsByClassName("c-r-resp")[0].classList.add("c-r-resp-hide");};document.getElementById("c-post").onclick = function() {var comment = document.getElementById('comment-input-hold').value;comment = window.frames['commentInput'].document.body.innerHTML;$.get('cpost.php', {title:document.title, comment:comment}, function(data)  {$('#r-c-cresp').html(data);document.getElementsByClassName("c-r-resp")[0].classList.remove("c-r-resp-hide");});};$.get('cfetch.php', {title:document.title}, function(data) {document.getElementById("rcmhb").innerHTML = data;});document.getElementById("a-star").onclick = function() {$.get('fpro.php', {title:document.title}, function(data) {if (data == 2) {document.getElementById("f-mess").innerHTML = "Please sign up or log in to favourite an article";document.getElementById("f-mess").style.display = "inline";setTimeout(function() {document.getElementById("f-mess").style.display = "none";}, 3000);}else if (data == 0) {document.getElementById("f-mess").innerHTML = "Your articles has been successfully unfavourited";document.getElementById("f-mess").style.display = "inline";document.getElementById("a-star").style.color = "rgba(218,218,218,0.72)";setTimeout(function() {document.getElementById("f-mess").style.display = "none";}, 3000);}else if (data == 1) {document.getElementById("f-mess").innerHTML = "Your articles has been successfully favourited";document.getElementById("f-mess").style.display = "inline";document.getElementById("a-star").style.color = "grey";setTimeout(function() {document.getElementById("f-mess").style.display = "none";}, 3000);}});};$.get('fpro.php', {title:document.title, type:1}, function(data) {if (data == 4) {document.getElementById("a-star").style.color = "grey";}});
document.getElementById("mfsto").onclick = function() {
	$.get('mfarticles.php', {}, 
		 function(data) {
		document.getElementById("mfarticles").innerHTML = data;
	});};